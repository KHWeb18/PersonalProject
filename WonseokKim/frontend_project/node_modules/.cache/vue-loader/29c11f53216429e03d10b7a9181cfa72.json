{"remainingRequest":"/Users/wonseokkim/java_work/LectureContents/javascript/WonseokKim/proj_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wonseokkim/java_work/LectureContents/javascript/WonseokKim/proj_frontend/src/components/layout/AppBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wonseokkim/java_work/LectureContents/javascript/WonseokKim/proj_frontend/src/components/layout/AppBar.vue","mtime":1631637607180},{"path":"/Users/wonseokkim/java_work/LectureContents/javascript/WonseokKim/proj_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wonseokkim/java_work/LectureContents/javascript/WonseokKim/proj_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wonseokkim/java_work/LectureContents/javascript/WonseokKim/proj_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wonseokkim/java_work/LectureContents/javascript/WonseokKim/proj_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnCmltcG9ydCBjb29raWVzIGZyb20gJ3Z1ZS1jb29raWVzJwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCgpWdWUudXNlKGNvb2tpZXMpCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcEJhcicsCiAgICAKICBkYXRhOiAoKSA9PiAoewogICAgcGhvdG9zOiBbCiAgICAgIHsgdGl0bGU6ICfsnbjrrLwnLCByb3V0ZTogJy9wZXJzb24nIH0sCiAgICAgIHsgdGl0bGU6ICfsl6ztlonsp4AnLCByb3V0ZTogJy9uYXR1cmUnIH0sCiAgICAgIHsgdGl0bGU6ICfsnYzsi50nLCByb3V0ZTogJy9mb29kJyB9CiAgICBdLAogICAgc2VydmljZXM6IFsKICAgICAgeyB0aXRsZTogJ+yWuOuhoOuztOuPhCcsIHJvdXRlOiAnL2RhdW1OZXdzQ3Jhd2xlcid9LAogICAgICB7IHRpdGxlOiAn7KeI66y46rKM7Iuc7YyQJywgcm91dGU6ICcvcXVlc3Rpb24nIH0sCiAgICAgIHsgdGl0bGU6ICfsmKTsi5zripQg6ri4Jywgcm91dGU6ICcvbWFwJyB9LAogICAgXSwKICAgIGFib3V0czogWwogICAgICB7IHRpdGxlOiAnTG9NIOyGjOqwnCcsIHJvdXRlOiAnL2ludHJvJyB9LAogICAgICB7IHRpdGxlOiAn6rO17KeA7IKs7ZWtJywgcm91dGU6ICcvbm90aWNlJyB9LAogICAgXSwKICAgIGxvZ2luRGlhbG9nOiBmYWxzZSwKICAgIHVzZXJJbmZvOiB7CiAgICAgICAgdXNlcklkOiAnJywKICAgICAgICBwYXNzd29yZENoZWNrOiAnJywKICAgIH0sCiAgICBpc0xvZ2luOiBmYWxzZSwKICAgIGlzTG9nb3V0OiB0cnVlLAogIH0pLAogICAgbW91bnRlZCAoKSB7CiAgICAgICAgLy8gdGhpcy5mZXRjaFNlc3Npb24oKQogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnNlc3Npb24gPSB0aGlzLiRjb29raWVzLmdldCgidXNlciIpCiAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnNlc3Npb24gIT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLmlzTG9naW4gPSB0cnVlCiAgICAgICAgICAgIHRoaXMuaXNMb2dvdXQgPSBmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKFsnc2Vzc2lvbiddKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKFsnZmV0Y2hTZXNzaW9uJ10pLAogICAgICAgIG9uU3VibWl0IChwYXlsb2FkKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5zZXNzaW9uID09IG51bGwpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHsgdXNlcklkLCBwYXNzd29yZENoZWNrIH0gPSBwYXlsb2FkCiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvanBhc2Vzc2lvbi9zaWduLWluJywgeyB1c2VySWQsIHBhc3N3b3JkQ2hlY2sgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5oYXNoY29kZSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+uhnOq3uOyduCDshLHqs7UhIC0gJyArIHJlcy5kYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2dpbiA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zZXNzaW9uID0gcmVzLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb29raWVzLnNldCgidXNlciIsIHJlcy5kYXRhLCAnMWgnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn66Gc6re47J24IOyLpO2MqCEgLSAnICsgcmVzLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvZ2luID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdIb21lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcGFyYW1zOiB7IGJvYXJkTm86IHJlcy5kYXRhLmJvYXJkTm8udG9TdHJpbmcoKSB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChyZXMucmVzcG9uc2UuZGF0YS5tZXNzYWdlKQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoJ+ydtOuvuCDroZzqt7jsnbgg65CY7Ja0IOyeiOyKteuLiOuLpCAtIOqzhOyglTogJyArIHRoaXMuJHN0b3JlLnN0YXRlLnNlc3Npb24uZW1haWwpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNob3dTZXNzaW9uICgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNMb2dpbiA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvanBhc2Vzc2lvbi9uZWVkU2Vzc2lvbicpCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfshLjshZgg7KCV67O0IOycoOyngCEgLSAnICsgcmVzLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfshLjshZgg7KCV67O0IOycoOyngCDslYjrkJjripQg7KSRISAtICcgKyByZXMuZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0JvYXJkUmVhZFBhZ2UnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogeyBib2FyZE5vOiByZXMuZGF0YS5ib2FyZE5vLnRvU3RyaW5nKCkgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzLnJlc3BvbnNlLmRhdGEubWVzc2FnZSkKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfrqLzsoIAg66Gc6re47J2467aA7YSwIO2VmOyEuOyalCEnKQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogJ0hvbWUnLAogICAgICAgICAgICAgICAgLy9wYXJhbXM6IHsgYm9hcmRObzogcmVzLmRhdGEuYm9hcmROby50b1N0cmluZygpIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHJlbW92ZVNlc3Npb24gKCkgewogICAgICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0Ojc3NzcvanBhbWVtYmVyL3JlbW92ZVNlc3Npb24nKQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2dpbiA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGxvZ291dCAoKSB7CiAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMucmVtb3ZlKCJ1c2VyIikKICAgICAgICAgICAgdGhpcy5pc0xvZ2luID0gZmFsc2UKICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc2Vzc2lvbiA9IG51bGwKICAgICAgICAgICAgYWxlcnQoJ+uhnOq3uOyVhOybgyDrkJjshajsirXri4jri6QhJykKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogJ0hvbWUnLAogICAgICAgICAgICAgICAgLy9wYXJhbXM6IHsgYm9hcmRObzogcmVzLmRhdGEuYm9hcmROby50b1N0cmluZygpIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQoKICAgIH0KfQo="},{"version":3,"sources":["AppBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"AppBar.vue","sourceRoot":"src/components/layout","sourcesContent":["<template>\n    <div>\n        <v-app-bar app=\"app\" color=\"green\" dark=\"dark\">\n            <div class=\"d-flex align-center\">\n                <router-link :to=\"{ name: 'Home' }\"\n                    class=\"nav-link\"\n                    active-class=\"active\">\n                <v-img\n                    alt=\"Life Of Moment Logo\"\n                    class=\"shrink mr-2\"\n                    contain=\"contain\"\n                    src=\"@/assets/img/logos.png\"\n                    transition=\"scale-transition\"\n                    width=\"130\"/>\n                </router-link>\n            </div>\n            <v-spacer></v-spacer>\n            <v-spacer></v-spacer>\n            <v-spacer></v-spacer>\n            <div>\n                <v-menu open-on-hover=\"open-on-hover\" bottom=\"bottom\" offset-y=\"offset-y\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\" text=\"text\">\n                            <span class=\"mr-4\">Photo</span>\n                        </v-btn>\n                    </template>\n                    <v-list>\n                        <v-list-item v-for=\"(photo, index) in photos\" :key=\"index\" :to=\"photo.route\" @click=\"showSession\">\n                            <v-list-item-title>{{ photo.title }}</v-list-item-title>\n                        </v-list-item>\n                    </v-list>\n                </v-menu>\n            </div>\n            <div>\n                <v-menu open-on-hover=\"open-on-hover\" bottom=\"bottom\" offset-y=\"offset-y\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\" text=\"text\">\n                            <span class=\"mr-4\">Service</span>\n                        </v-btn>\n                    </template>\n                    <v-list>\n                        <v-list-item v-for=\"(service, index) in services\" :key=\"index\" :to=\"service.route\">\n                            <v-list-item-title>{{ service.title }}</v-list-item-title>\n                        </v-list-item>\n                    </v-list>\n                </v-menu>\n            </div>\n            <div>\n                <v-menu open-on-hover=\"open-on-hover\" bottom=\"bottom\" offset-y=\"offset-y\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\" text=\"text\">\n                            <span class=\"mr-4\">About</span>\n                        </v-btn>\n                    </template>\n                    <v-list>\n                        <v-list-item v-for=\"(about, index) in abouts\" :key=\"index\" :to=\"about.route\">\n                            <v-list-item-title>{{ about.title }}</v-list-item-title>\n                        </v-list-item>\n                    </v-list>\n                </v-menu>\n            </div>\n            <v-btn text=\"text\" color=\"white\" @click=\"logout\" v-if=\"isLogin\">\n                    <span class=\"mr-1\">LogOut</span>\n                </v-btn>\n            <div v-if=\"isLogout\">\n                <router-link :to=\"{ name: 'SessionLoginPage' }\"\n                    class=\"nav-link\"\n                    active-class=\"active\"\n                    style=\"text-decoration: none;\">\n                <v-btn text=\"text\" color=\"white\">\n                    <span class=\"mr-1\">LOGIN</span>\n                </v-btn>\n                </router-link>\n                <span>|</span>\n                <router-link :to=\"{ name: 'AccountRegisterPage' }\"\n                    class=\"nav-link\"\n                    active-class=\"active\"\n                    style=\"text-decoration: none;\">\n                <v-btn text=\"text\" color=\"white\">\n                    <span class=\"mr-1\">Join</span>\n                </v-btn>\n                </router-link>\n                <v-btn href=\"\" target=\"_blank\" text=\"text\">\n                    <v-icon>mdi-magnify</v-icon>\n                </v-btn>\n            </div>\n        </v-app-bar>\n    </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport Vue from 'vue'\nimport cookies from 'vue-cookies'\nimport axios from 'axios'\n\nVue.use(cookies)\n\nexport default {\n  name: 'AppBar',\n    \n  data: () => ({\n    photos: [\n      { title: '인물', route: '/person' },\n      { title: '여행지', route: '/nature' },\n      { title: '음식', route: '/food' }\n    ],\n    services: [\n      { title: '언론보도', route: '/daumNewsCrawler'},\n      { title: '질문게시판', route: '/question' },\n      { title: '오시는 길', route: '/map' },\n    ],\n    abouts: [\n      { title: 'LoM 소개', route: '/intro' },\n      { title: '공지사항', route: '/notice' },\n    ],\n    loginDialog: false,\n    userInfo: {\n        userId: '',\n        passwordCheck: '',\n    },\n    isLogin: false,\n    isLogout: true,\n  }),\n    mounted () {\n        // this.fetchSession()\n        this.$store.state.session = this.$cookies.get(\"user\")\n        if (this.$store.state.session != null) {\n            this.isLogin = true\n            this.isLogout = false\n        }\n    },\n    computed: {\n        ...mapState(['session'])\n    },\n    methods: {\n        ...mapActions(['fetchSession']),\n        onSubmit (payload) {\n            if (this.$store.state.session == null) {\n                const { userId, passwordCheck } = payload\n                axios.post('http://localhost:8888/jpasession/sign-in', { userId, passwordCheck })\n                        .then(res => {\n                            if (res.data.hashcode != null) {\n                                alert('로그인 성공! - ' + res.data)\n                                this.isLogin = true\n                                this.$store.state.session = res.data\n                                this.$cookies.set(\"user\", res.data, '1h')\n                            } else {\n                                alert('로그인 실패! - ' + res.data)\n                                this.isLogin = false\n                            }\n                            this.$router.push({\n                            name: 'Home',\n                            //params: { boardNo: res.data.boardNo.toString() }\n                            })\n\n                        })\n                        .catch(res => {\n                            alert(res.response.data.message)\n                        })\n            } else {\n                alert('이미 로그인 되어 있습니다 - 계정: ' + this.$store.state.session.email)\n            }\n        },\n        showSession () {\n            if (this.isLogin == true) {\n                axios.post('http://localhost:8888/jpasession/needSession')\n                        .then(res => {\n                            if (res.data == true) {\n                                alert('세션 정보 유지! - ' + res.data)\n                            } else {\n                                alert('세션 정보 유지 안되는 중! - ' + res.data)\n                            }\n                            /*\n                            this.$router.push({\n                                name: 'BoardReadPage',\n                                params: { boardNo: res.data.boardNo.toString() }\n                            })\n                            */\n                        })\n                        .catch(res => {\n                            alert(res.response.data.message)\n                        })\n            } else {\n                alert('먼저 로그인부터 하세요!')\n                this.$router.push({\n                name: 'Home',\n                //params: { boardNo: res.data.boardNo.toString() }\n                })\n            }\n        },\n        removeSession () {\n            axios.post('http://localhost:7777/jpamember/removeSession')\n                    .then(res => {\n                        this.isLogin = res.data\n                    })\n        },\n        logout () {\n            this.$cookies.remove(\"user\")\n            this.isLogin = false\n            this.$store.state.session = null\n            alert('로그아웃 되셨습니다!')\n            this.$router.push({\n                name: 'Home',\n                //params: { boardNo: res.data.boardNo.toString() }\n                })\n        }\n\n    }\n}\n</script>\n\n<style>\n\n</style>"]}]}