{"remainingRequest":"/Users/anbomi/first_project/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anbomi/first_project/front/src/views/MyAccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anbomi/first_project/front/src/views/MyAccount.vue","mtime":1632499371617},{"path":"/Users/anbomi/first_project/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anbomi/first_project/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/anbomi/first_project/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anbomi/first_project/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNeVByb2ZpbGUgZnJvbSAnLi4vY29tcG9uZW50cy9NeVByb2ZpbGUudnVlJwppbXBvcnQgTXlCb2FyZHMgZnJvbSAnLi4vY29tcG9uZW50cy9NeUJvYXJkcy52dWUnCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IE15UHJvZmlsZSwgTXlCb2FyZHMgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm9hcmRzOiBbXQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckJvYXJkcygpOwogIH0sCiAgbW91bnRlZCgpIHsKICAgICAgaWYodGhpcy4kc3RvcmUuc3RhdGUudXNlciA9PSBudWxsKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykKICAgICAgYWxlcnQoJ+uhnOq3uOyduCDtm4Qg7J207Jqp7ZW07KO87IS47JqULicpCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAgIHNpZ25PdXQoKSB7CiAgICAgIHRoaXMuJGNvb2tpZXMucmVtb3ZlKCJ1c2VyIikKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1c2VyIiwge30pCiAgICAgIGFsZXJ0KCdzaWduIG91dCBzdWNjZXNzIScpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuaXNMb2dpbiA9IGZhbHNlCiAgICB9LAogICAgY2hhbmdlTmlja25hbWUobmlja25hbWUpIHsKICAgICAgY29uc3QgaWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLm5vCiAgICAgIHRoaXMuJGh0dHAucG9zdChgL2FwaS9jaGFuZ2VOaWNrbmFtZS8ke2lkfWAsIHtuaWNrbmFtZTogbmlja25hbWV9KQogICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1c2VyIiwgcmVzLmRhdGEudXNlckluZm8pCiAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMuc2V0KCJ1c2VyIiwgcmVzLmRhdGEudXNlckluZm8pCiAgICAgICAgICAgIGFsZXJ0KHJlcy5kYXRhLm1lc3NhZ2UpCiAgICAgICAgICB9KQogICAgfSwKICAgIGdldFVzZXJCb2FyZHMoKSB7CiAgICAgIGNvbnN0IGlkID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5ubwogICAgICB0aGlzLiRodHRwLmdldChgL2FwaS9nZXRVc2VyQm9hcmRzLyR7aWR9YCkKICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuYm9hcmRzID0gcmVzLmRhdGEKICAgICAgICAgIH0pCiAgICB9LAogICAgZGVsZXRlTXlCb2FyZChpZCkgewogICAgICB0aGlzLiRodHRwLnBvc3QoYC9hcGkvZGVsZXRlTXlCb2FyZC8ke2lkfWApCiAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICAgIGFsZXJ0KCfqsozsi5zquIAg7IKt7KCc6rCAIOyZhOujjOuQmOyXiOyKteuLiOuLpC4nKQogICAgICAgICAgICB0aGlzLmdldFVzZXJCb2FyZHMoKTsKICAgICAgICAgIH0pCiAgICB9LAogICAgdXBkYXRlTXlCb2FyZChib2FyZCkgewogICAgICB0aGlzLiRodHRwLnBvc3QoJy9hcGkvdXBkYXRlTXlCb2FyZCcsIHtib2FyZDogYm9hcmR9KQogICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgICBhbGVydCgn6rKM7Iuc6riAIOyImOygleydtCDsmYTro4zrkJjsl4jsirXri4jri6QuJykKICAgICAgICAgICAgdGhpcy5nZXRVc2VyQm9hcmRzKCk7CiAgICAgICAgICB9KQogICAgfQogIH0sCn0K"},{"version":3,"sources":["MyAccount.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyAccount.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <my-profile v-on:changeNickname=\"changeNickname\"\n                v-on:signOut=\"signOut\"></my-profile>\n    <div class=\"my-5\"></div>\n    <my-boards v-bind:boards=\"boards\"\n                v-on:deleteMyBoard=\"deleteMyBoard\"\n                v-on:updateMyBoard=\"updateMyBoard\"\n    ></my-boards>\n  </div>\n</template>\n\n<script>\nimport MyProfile from '../components/MyProfile.vue'\nimport MyBoards from '../components/MyBoards.vue'\nexport default {\n  components: { MyProfile, MyBoards },\n  data() {\n    return {\n      boards: []\n    }\n  },\n  created() {\n    this.getUserBoards();\n  },\n  mounted() {\n      if(this.$store.state.user == null) {\n      this.$router.push('/')\n      alert('로그인 후 이용해주세요.')\n    }\n  },\n  methods: {\n      signOut() {\n      this.$cookies.remove(\"user\")\n      this.$store.commit(\"user\", {})\n      alert('sign out success!')\n      this.$router.push('/')\n      this.$store.state.isLogin = false\n    },\n    changeNickname(nickname) {\n      const id = this.$store.state.user.no\n      this.$http.post(`/api/changeNickname/${id}`, {nickname: nickname})\n          .then(res => {\n            this.$store.commit(\"user\", res.data.userInfo)\n            this.$cookies.set(\"user\", res.data.userInfo)\n            alert(res.data.message)\n          })\n    },\n    getUserBoards() {\n      const id = this.$store.state.user.no\n      this.$http.get(`/api/getUserBoards/${id}`)\n          .then(res => {\n            this.boards = res.data\n          })\n    },\n    deleteMyBoard(id) {\n      this.$http.post(`/api/deleteMyBoard/${id}`)\n          .then(res => {\n            console.log(res.data);\n            alert('게시글 삭제가 완료되었습니다.')\n            this.getUserBoards();\n          })\n    },\n    updateMyBoard(board) {\n      this.$http.post('/api/updateMyBoard', {board: board})\n          .then(res => {\n            console.log(res.data);\n            alert('게시글 수정이 완료되었습니다.')\n            this.getUserBoards();\n          })\n    }\n  },\n}\n</script>"]}]}