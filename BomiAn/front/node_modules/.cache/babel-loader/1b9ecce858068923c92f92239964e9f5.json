{"remainingRequest":"/Users/anbomi/first_project/front/node_modules/babel-loader/lib/index.js!/Users/anbomi/first_project/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/anbomi/first_project/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anbomi/first_project/front/src/views/GoToVote.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anbomi/first_project/front/src/views/GoToVote.vue","mtime":1632499225624},{"path":"/Users/anbomi/first_project/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anbomi/first_project/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/anbomi/first_project/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anbomi/first_project/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZvdGVDb21wb25lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9Wb3RlQ29tcG9uZW50LnZ1ZSc7CmltcG9ydCBDb21tZW50Q29tcG9uZW50IGZyb20gJy4uL2NvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudC52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVm90ZUNvbXBvbmVudDogVm90ZUNvbXBvbmVudCwKICAgIENvbW1lbnRDb21wb25lbnQ6IENvbW1lbnRDb21wb25lbnQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib2FyZDoge30sCiAgICAgIGNvbW1lbnRzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEJvYXJkRGV0YWlsKCk7CiAgICB0aGlzLmdldENvbW1lbnRzTGlzdCgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmVtYWlsID09IG51bGwpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgYWxlcnQoJ+uhnOq3uOyduCDtm4Qg7J207Jqp7ZW07KO87IS47JqULicpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Qm9hcmREZXRhaWw6IGZ1bmN0aW9uIGdldEJvYXJkRGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICB0aGlzLiRodHRwLmdldCgiL2FwaS9nZXRCb2FyZERldGFpbC8iLmNvbmNhdChpZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmJvYXJkID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHZvdGVPcDE6IGZ1bmN0aW9uIHZvdGVPcDEoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdm90ZSA9IHsKICAgICAgICBiX25vOiBpZCwKICAgICAgICB1X25vOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLm5vCiAgICAgIH07CiAgICAgIHRoaXMuJGh0dHAucG9zdCgnL2FwaS92b3RlL29wdGlvbjEnLCB7CiAgICAgICAgdm90ZTogdm90ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcyA9PSB0cnVlKSB7CiAgICAgICAgICBhbGVydChyZXMuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICBfdGhpczIuZ2V0Qm9hcmREZXRhaWwoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB2b3RlT3AyOiBmdW5jdGlvbiB2b3RlT3AyKGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHZvdGUgPSB7CiAgICAgICAgYl9ubzogaWQsCiAgICAgICAgdV9ubzogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5ubwogICAgICB9OwogICAgICB0aGlzLiRodHRwLnBvc3QoJy9hcGkvdm90ZS9vcHRpb24yJywgewogICAgICAgIHZvdGU6IHZvdGUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSkgewogICAgICAgICAgYWxlcnQocmVzLmRhdGEubWVzc2FnZSk7CgogICAgICAgICAgX3RoaXMzLmdldEJvYXJkRGV0YWlsKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q29tbWVudHNMaXN0OiBmdW5jdGlvbiBnZXRDb21tZW50c0xpc3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICB0aGlzLiRodHRwLmdldCgiL2FwaS9nZXRDb21tZW50c0xpc3QvIi5jb25jYXQoaWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuY29tbWVudHMgPSByZXMuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUNvbW1lbnQ6IGZ1bmN0aW9uIGRlbGV0ZUNvbW1lbnQoaWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLnBvc3QoIi9hcGkvZGVsZXRlQ29tbWVudC8iLmNvbmNhdChpZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICBhbGVydCgn7IKt7KCc6rCAIOyZhOujjOuQmOyXiOyKteuLiOuLpCEnKTsKCiAgICAgICAgX3RoaXM1LmdldENvbW1lbnRzTGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICBpbnNlcnRDb21tZW50OiBmdW5jdGlvbiBpbnNlcnRDb21tZW50KGNvbW1lbnQpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLnBvc3QoJy9hcGkvaW5zZXJ0Q29tbWVudCcsIHsKICAgICAgICBjb21tZW50OiBjb21tZW50CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIF90aGlzNi5nZXRDb21tZW50c0xpc3QoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["GoToVote.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <vote-component v-bind:board=\"board\"\n                    v-on:voteOp1=\"voteOp1\"\n                    v-on:voteOp2=\"voteOp2\"\n    ></vote-component>\n    <comment-component v-bind:comments=\"comments\"\n                      v-on:deleteComment=\"deleteComment\"\n                      v-on:insertComment=\"insertComment\"\n\n    ></comment-component>\n  </div>\n</template>\n\n<script>\nimport VoteComponent from '../components/VoteComponent.vue'\nimport CommentComponent from '../components/CommentComponent.vue'\nexport default {\n  components: {\n    VoteComponent,\n    CommentComponent,\n  },\n  data() {\n    return {\n      board: {},\n      comments: [],\n    }\n  },\n  created() {    \n    this.getBoardDetail();\n    this.getCommentsList();\n  },\n  mounted() {\n      if(this.$store.state.user.email == null) {\n      this.$router.push('/')\n      alert('로그인 후 이용해주세요.')\n    }\n  },\n  methods: {\n    getBoardDetail() {\n      const id = this.$route.params.id\n      this.$http.get(`/api/getBoardDetail/${id}`)\n          .then(res => {\n            this.board = res.data \n          })\n    },\n    voteOp1(id) {\n      let vote = {\n        b_no: id,\n        u_no: this.$store.state.user.no\n      }\n      this.$http.post('/api/vote/option1', {vote: vote})\n          .then(res => {\n            if(res.data.success == true) {\n              alert(res.data.message)\n              this.getBoardDetail();\n            } else {\n              alert(res.data.message)\n            }\n          })\n    },\n    voteOp2(id) {\n      let vote = {\n        b_no: id,\n        u_no: this.$store.state.user.no\n      }\n      this.$http.post('/api/vote/option2', {vote: vote})\n          .then(res => {\n            if(res.data.success == true) {\n              alert(res.data.message)\n              this.getBoardDetail();\n            } else {\n              alert(res.data.message)\n            }\n          })\n    },\n    getCommentsList() {\n       const id = this.$route.params.id\n       this.$http.get(`/api/getCommentsList/${id}`)\n            .then(res => {\n              this.comments = res.data\n              console.log(res.data);\n            })\n    },\n    deleteComment(id) {\n      this.$http.post(`/api/deleteComment/${id}`)\n                .then(res => {\n                  console.log(res.data);\n                  alert('삭제가 완료되었습니다!')\n                  this.getCommentsList();\n                })\n    },\n    insertComment(comment) {\n      this.$http.post('/api/insertComment', {comment: comment})\n          .then(res => {\n            console.log(res);\n            this.getCommentsList();\n          })\n    }\n  },\n  \n}\n</script>"],"sourceRoot":"src/views"}]}